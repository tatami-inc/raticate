<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>raticate: /github/workspace/include/raticate/raticate.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">raticate
   </div>
   <div id="projectbrief">R bindings to tatami matrices</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_7e5be6e541aa0c458f996c9da6f42c7f.html">raticate</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">raticate.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Parse <code>Rcpp::RObject</code>s into <b>tatami</b> matrices.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;Rcpp.h&quot;</code><br />
<code>#include &quot;SimpleMatrix.hpp&quot;</code><br />
<code>#include &quot;SparseArraySeed.hpp&quot;</code><br />
<code>#include &quot;CSparseMatrix.hpp&quot;</code><br />
<code>#include &quot;DelayedMatrix.hpp&quot;</code><br />
<code>#include &quot;DelayedSubset.hpp&quot;</code><br />
<code>#include &quot;DelayedAperm.hpp&quot;</code><br />
<code>#include &quot;DelayedAbind.hpp&quot;</code><br />
<code>#include &quot;UnknownMatrix.hpp&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8hpp_source.html">utils.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="parallelize_8hpp_source.html">parallelize.hpp</a>&quot;</code><br />
</div>
<p><a href="raticate_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a92d1249c9e39e31ef411a8d068b0ea52"><td class="memTemplParams" colspan="2">template&lt;typename Data , typename Index &gt; </td></tr>
<tr class="memitem:a92d1249c9e39e31ef411a8d068b0ea52"><td class="memTemplItemLeft" align="right" valign="top">Parsed&lt; Data, Index &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="raticate_8hpp.html#a92d1249c9e39e31ef411a8d068b0ea52">raticate::parse</a> (Rcpp::RObject x, bool allow_unknown)</td></tr>
<tr class="separator:a92d1249c9e39e31ef411a8d068b0ea52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Parse <code>Rcpp::RObject</code>s into <b>tatami</b> matrices. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a92d1249c9e39e31ef411a8d068b0ea52" name="a92d1249c9e39e31ef411a8d068b0ea52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d1249c9e39e31ef411a8d068b0ea52">&#9670;&#160;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Data , typename Index &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">Parsed&lt; Data, Index &gt; raticate::parse </td>
          <td>(</td>
          <td class="paramtype">Rcpp::RObject&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>allow_unknown</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse <code>Rcpp::RObject</code>s into <b>tatami</b> matrices. Natively supported matrix types are:</p>
<ul>
<li>ordinary logical, numeric or integer matrices.</li>
<li><code>dgCMatrix</code> or <code>lgCMatrix</code> objects from the <b>Matrix</b> package.</li>
<li><code>SparseArraySeed</code> objects from the <a href="https://github.com/Bioconductor/DelayedArray"><b>DelayedArray</b></a> package.</li>
<li><code>DelayedMatrix</code> objects wrapping any of the above, or containing the following delayed operations:<ul>
<li>Subsetting (as a <code>DelayedSubset</code> instance)</li>
<li>Modification of dimnames (as a <code>DelayedSetDimnames</code> instance)</li>
<li>Transposition (as a <code>DelayedAperm</code> instance)</li>
<li>Combining (as a <code>DelayedAbind</code> instance)</li>
</ul>
</li>
</ul>
<p>For all other objects, if <code>allow_unknown = true</code>, we create an instance of an "unknown matrix fallback" subclass of a <code>tatami::Matrix</code>. This calls <code>DelayedArray::extract_array()</code> in R to extract an appropriate slice of the matrix. Of course, this is quite a bit slower than the native representations. Also see <a class="el" href="md_parallel.html">here</a> for safe parallelization of <b>tatami</b> calls that might operate on an unknown matrix.</p>
<p>If <code>allow_unknown = false</code>, any object not listed above will result in a <code>nullptr</code>. This should be handled by the caller.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Data</td><td>Numeric data type for the <b>tatami</b> interface, typically <code>double</code>. </td></tr>
    <tr><td class="paramname">Index</td><td>Integer index type for the <b>tatami</b> interface, typically <code>int</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>An R object representing a supported matrix type. </td></tr>
    <tr><td class="paramname">allow_unknown</td><td>Whether to allow the creation of a fallback <code>tatami::Matrix</code> for unknown matrix-like objects.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>Parsed</code> object containing a pointer to a parsed <code>tatami::Matrix</code> (or <code>null</code>, if parsing was not successful and <code>allow_unknown = false</code>). </dd></dl>
<p>As a general rule, any internal calls to parse() in DelayedArray parsers should keep the default of allow_unknown = false. This avoids partial parsing that ends up having to fall back to R anyway. By keeping as much as we can in R, we might be able to get more effective extraction via block processing, which sees multiple indices at once for better extraction (tatami only sees one row/column at a time).</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
